/*******************************************************************************************************************************//**
 *
 * @file		PR_Botones.c
 * @brief		Descripcion del modulo
 * @date		Oct 27, 2020
 * @author		R2002 - Grupo2
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** INCLUDES
 **********************************************************************************************************************************/
#include <DR/DR_Botones.h>
#include <PR/PR_Botones.h>
/***********************************************************************************************************************************
 *** DEFINES PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPOS DE DATOS PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TABLAS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PUBLICAS
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** PROTOTIPO DE FUNCIONES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

 /***********************************************************************************************************************************
 *** FUNCIONES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

 /***********************************************************************************************************************************
 *** FUNCIONES GLOBALES AL MODULO
 **********************************************************************************************************************************/
/**
	\fn  InicializarBotones
	\brief Inicializar botones como entradas y configuara pinmodes
 	\author R2002 - Grupo2
 	\date Oct 27, 2020
*/
void InicializarBotones(void){
	setDir(SW1_P, INPUT);
	setDir(SW2_P, INPUT);
	setDir(SW3_P, INPUT);
	setDir(SW4_P, INPUT);
	setDir(SW5_P, INPUT);


	setPinmode(SW1_P, MODE_PULLUP);
	setPinmode(SW2_P, MODE_PULLUP);
	setPinmode(SW3_P, MODE_PULLUP);
	setPinmode(SW4_P, MODE_PULLUP);
	setPinmode(SW5_P, MODE_PULLUP);
}



/**
	\fn  getBtn
	\brief devuelve el estado de uno de los botones (SWx_P)
 	\author R2002 - Grupo2
 	\date Oct 27, 2020
 	\param [in] número de botón (SWx)
	\return 1 o 0 según si el botón estaba presionado
*/
uint8_t getBtn(uint8_t n){
	uint8_t temp = Botones_buff & (1 << n);
	Botones_buff &= ~(1 << n);
	return (temp);
}
