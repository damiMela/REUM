/*******************************************************************************************************************************//**
 *
 * @file		PR_Timers.h
 * @brief		Breve descripción del objetivo del Módulo
 * @date		Sep 28, 2020
 * @author		R2002 - Grupo2
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/

#ifndef PR_PR_TIMERS_H_
#define PR_PR_TIMERS_H_

/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include <DR/DR_Tipos.h>

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/
#define		DECIMAS				40
#define		SEGUNDOS			10 * DECIMAS
#define		MINUTOS				60 * DECIMAS * SEGUNDOS

enum {DEC, SEG, MIN};

#define		N_TIMERS		30 //cantidad de temporizadores (largo del vector

#define 	RUN					0
#define 	PAUSE				1
/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/
extern uint32_t TmrRun[ N_TIMERS ];
extern void (*TmrFunciones[ N_TIMERS ])(void);
extern uint8_t TmrFlags[ N_TIMERS +1];
extern uint8_t TmrPause[ N_TIMERS ];
extern uint8_t TmrBase[ N_TIMERS ];

/***********************************************************************************************************************************
 *** PROTOTIPOS DE FUNCIONES GLOBALES
 **********************************************************************************************************************************/
int8_t TimerStart ( uint8_t event_n , uint32_t t , void (* f_event )(void), uint8_t base );
void TimerDiscount ( void );
void TimerLunchEvent ( void );
int8_t TimerPause ( uint8_t event_n , uint8_t modo );
int8_t TimerGet ( uint8_t event_n , uint32_t *t );
int8_t TimerSet ( uint8_t event_n , uint32_t t );
int8_t TimerStop ( uint8_t event_n  );
void TimerClose ( void );

#endif /* PR_PR_TIMERS_H_ */
